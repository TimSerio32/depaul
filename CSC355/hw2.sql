/*
Tim Serio
CSC 355 Section 602
Assignment 2
April 12, 2016
*/

DROP TABLE RESERVATION;

DROP TABLE GUEST;

DROP TABLE HOTEL;

CREATE TABLE GUEST
(
ID		CHAR(7),
FirstName	VARCHAR(25),
LastName	VARCHAR(25),
Phone		CHAR(10),

CONSTRAINT PK_GUEST PRIMARY KEY(ID)

);

CREATE TABLE HOTEL
(
ID		CHAR(5),
HotelName	VARCHAR(25),
City		VARCHAR(25),

CONSTRAINT PK_HOTEL PRIMARY KEY(ID)

);

CREATE TABLE RESERVATION
(	
GuestID		CHAR(7),
HotelID		CHAR(5),
StartDate	DATE,
EndDate		DATE,
Confirmation	VARCHAR(10),

CONSTRAINT PK_RESERVATIONS PRIMARY KEY (GuestID, HotelID, StartDate, EndDate),

CONSTRAINT PK_RESERVATION_GUEST FOREIGN KEY (GuestID) REFERENCES GUEST(ID),

CONSTRAINT PK_RESERVATION_HOTEL FOREIGN KEY (HotelID) REFERENCES HOTEL(ID)

);

INSERT INTO HOTEL
	VALUES('12345', 'Waldorf Astoria', 'Chicago');

INSERT INTO HOTEL
	VALUES('12346', 'Four Seasons Hotel', 'Seattle');
	
INSERT INTO HOTEL
	VALUES('12347', 'The Grand Del Mar', 'San Diego');
	
INSERT INTO GUEST
	VALUES('7654321', 'Tim', 'Serio', '1234567891');

INSERT INTO GUEST
	VALUES('7654322', 'Joe', 'Perrone', '1234567892');
	
INSERT INTO GUEST
	VALUES('7654323', 'Jeff', 'Ryan', '1234567893');

	
INSERT INTO RESERVATION
	VALUES('7654321','12345',TO_DATE('2017-10-01','YYYY-MM-DD'),TO_DATE('2017-10-08','YYYY-MM-DD'),'987654321');
	
INSERT INTO RESERVATION
	VALUES('7654322','12346',TO_DATE('2017-10-01','YYYY-MM-DD'),TO_DATE('2017-10-08','YYYY-MM-DD'),'887654321');

INSERT INTO RESERVATION
	VALUES('7654323','12347',TO_DATE('2017-10-01','YYYY-MM-DD'),TO_DATE('2017-10-08','YYYY-MM-DD'),'787654321');
	
INSERT INTO RESERVATION
	VALUES('7654321','12347',TO_DATE('2017-11-21','YYYY-MM-DD'),TO_DATE('2017-11-29','YYYY-MM-DD'),'687654321');
	
SELECT * FROM GUEST;

SELECT * FROM HOTEL;

SELECT * FROM RESERVATION;